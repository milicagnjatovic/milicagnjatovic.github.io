<!DOCTYPE html>

<html>
<head>
    <title>Milica Gnjatoviić</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="public/css/index.css">  
    <link rel="stylesheet" type="text/css" href="public/css/casovi.css">  
    <script type="text/javascript" src="public/js/index.js"></script>
</head>

<body>


    <div id = "header">
        <h2>Milica Gnjatović</h2>

            <table id="menu">
                <tr>
                    <th> <a href="./index.html"> časovi </a> </th>                    
                    <th> <a href="./about_me.html"> o meni </a> </th>
                </tr>
            </table>

    </div>

    <a href="#podesavanje_sistema" id="pocetak">POČETAK</a>

    <main>
        <div id="left_menu">
            <table>
                <tr><td><a href="#podesavanje_sistema">Podešavanje sistema</a></td></tr>
                <tr><td><a href="#cas1">ČAS 1</a></td></tr>

            </table>
        </div>

        <div id="right_menu">
            <p> Kontakt: milicagnjatovic18[at]gmail.com</p>
            <h1 id="podesavanje_sistema">Podešavanje sistema</h1>
            <p>
                Softver potreban za vežbe:
                <ul>
                    <li> IBM DB2 sistem za upravljanje bazama podataka </li>
                    <li> IBM Data Studio alat za rad sa bazama podataka</li>
                    <li> Studentska baza podataka <i>stud2020</i></li>
                </ul>

                Ili preuzeti virtuelnu mašinu. <a href="http://enastava.matf.bg.ac.rs/~mirjana/BazePodataka2020_nova.zip"> VM </a>

                <h3> Ukoliko preuzimate virtuelnu mašinu</h3>
                <p> Ako koristite stariju verziju VMware plejera i dobijate grešku pri pokretanju VM, potrebno je da otvorite .vmx datoteku i promenite vrednost za virtualHW.version na Vašu verziju plejera, npr. ako je 15 postavite
                    <br>
                    virtualHW.version = "15". 
                    <ul>
                        <li>korisnik: <b>student</b></li>
                        <li>šifra: <b>abcdef</b></li>
                    </ul>
                </p>

                <h3>Ukoliko želite sami da preuzmete programe</h3>
                <p>Potrebno je napraviti nalog na IBM-u sa studentskim mejlom. <br>
                <ul>
                    <li><a href="resources/rbp/db2_installation_instruction.pdf" target="_blank"> uputstvo za instairanje DB2 </a></li>
                    <li><a href="resources/rbp/data_studio_installation_instruction.pdf" target="_blank"> uputstvo za instairanje data studija </a></li>
                    <li><a href="http://www.matf.bg.ac.rs/~mirjana/stud2020.zip" target="_blank"> skripta za uvoženje baze </a>
                        <br>
                        Uputstvo: unzipovati folder i pozicionirati se u njega. U terminalu pokrenuti <i>./create.sh</i>. <br>
                        Napomena: može biti potrebno promeniti mod fajla komandom:
                        <p class="kod">chmod +x create.sh</p> Ovu liniju je potrebno izvršiti u baznom folderu i dva podfoldera. Može da potraje par minuta.
                    </li>
                </ul>
                </p>

                <h3> Struktura baze podataka </h3>
                <ul>
                    <li><b>DA</b> - podaci zapisani ASCII kodnom shemom</li>
                    <li><b>DB</b> - podaci zapisani UTF-8 kodnom shemom</li>
                </ul>

                <img src="resources/rbp/dijagram_stud2020.png" alt="stud2020" style="width: 100%;">

                <h1 id="cas1">ČAS 1</h1>

                <h3>Komande u db2:</h3>
                <div class="kod">
                    <table class="basic_underline">
                        <tr>
                            <td>db2start</td>
                            <td>pokretanje</td>
                        </tr>
                        <tr>
                            <td>db2stop</td>
                            <td>zaustavljanje</td>
                        </tr>
                        <tr>
                            <td>db2 list db directory </td>
                            <td>lista svih baza u sistemu</td>
                        </tr>
                        <tr>
                            <td>db2</td>
                            <td>pokretanje interkativnog okruženja</td>
                        </tr>
                        <tr>
                            <td>db2 connect to IME_BAZE</td>
                            <td>povezivanje na bazu podataka</td>
                        </tr>
                        <tr>
                            <td>db2 connect to IME_BAZE user IME_KORISNIKA using SIFRA</td>
                            <td>povezivanje na bazu podataka kao određeni korisnik</td>
                        </tr>
                        <tr>
                            <td>db2 connect reset</td>
                            <td>diskonektovanje</td>
                        </tr>
                        <tr>
                            <td>db2 list tables</td>
                            <td>prikaz tabela u bazi za podrazumevanu shemu</td>
                        </tr>
                        <tr>
                            <td>db2 values current schema</td>
                            <td>prikaz trnutne sheme</td>
                        </tr>
                        <tr>
                            <td>db2 list tables for schema IME_SHEME</td>
                            <td>prikaz tabela u bazi za određenu shemu</td>
                        </tr>
                        <tr>
                            <td>db2 describe table IME_TABELE/IME_SHEME.IME_TABELE </td>
                            <td>informacije o tabeli</td>
                        </tr>
                        <tr>
                            <td>db2 "UPIT" </td>
                            <td>dohvatanje podataka iz baze</td>
                        </tr>
                        <tr>
                            <td>db2 -f PUTANJA_DO_FAJLA -v </td>
                            <td>izvršavanje upita iz fajla, -v naglašava da se svaki upit završava sa <b>;</b>. Može se dodati -v da se prikaže upit koji je izvršen. U jednom fajlu može biti više upita.</td>
                        </tr>
                    </table>
                </div>

                <p><b>Baza podataka</b> - kolekcija podataka organizovana na određen način; različiti tipovi, objektne, nerelacione, relacione...</p>
                <p><b>Sistem za upravljanje bazom podataka (SUBP) </b>- program koji omogućava pristup i rad sa podacima iz baze, to je ibm db2.</p>
                <p><b>Relacione baze podataka (RBP)</b> - podaci se predstavljaju u okviru relacija/tabela</p>
                <p><b>Entitet</b> - neki objekat, prikazuje se tabelom; student, predmet, ispit...</p>
                <p><b>Atribut</b> - opisuje objekat, kolone tabele; indeks, ime, prezime...</p>
                <p><b>Student</b> (<u>indeks</u>, ime, prezime, datum_rođenja, mesto_rođenja)</p>
                <p><b>Red/ntorka</b> - podaci o jednom entitetu/studentu/ispitu...</p>
                <p><b>Relaciona baza</b> - skup relacija/tabela</p>
                <p><b>Relaciona shema</b> - opis strukture relacija</p>
                <p><b>SQL</b> - sredstvo za upravljanje relacionom bazom podatka, upitni jezik</p>
                <p><b>Primarni ključ</b> - atribut ili skup atributa koji jedinstveno opisuju entitet</p>
                <p><b>Strani ključ</b> - atribut ili skup atributa kojim se pravi veza ka drugoj relaciji</p>
                <p><b>Shema</b> - grupisane tabele u pogled koji čini celinu, npr. shema za profesore i shema za studente</p>

                <p>
                    <h3>Redosled izvršavanja:</h3>
                    3 SELECT <i>- kolone koje će se prikazati, * da se prikažu sve kolone </i> <br> 
                    1 FROM <i>- odakle izvlačimo podatke, koja tabela </i> <br>
                    2 WHERE <i>- uslovi koje rezultati treba da ispunjavaju</i><br>
                </p>

                <h3>Rad u Data studiju</h3>
                Pre početka je potrebno pokrenuti db2 iz terminala komandom <p class="kod">db2start</p>
                <img src="resources/rbp/data_studio1.png" alt="data studio" style="width:100%;">
                <ol>
                    <li>Open perspective > Data </li>
                    <li>Desni klik > connect > uneti korisničko ime i šifru > test connection (treba da je okej) > connect  
                        <br>
                        Ukoliko nema ponuđeno stud2020: desni klik na Database Connections > new > DB2 for Linux, Unix and Windows > host: stud2020, username an password, identično prethodom koraku. 
                    </li>
                    <li> Pravljenje novog sql skripta</li>
                    <li> Click here to connect to database > izabrati stud2020 > finish </li>
                    <li> Dugme za izvršavanje unetog upita.</li>
                    <li> Ovde se nalazi rezultat upita ili eventualna poruka o grešci.</li>
                </ol>

                <img src="resources/rbp/data_studio2.png" alt="data studio" style="width:100%;">
                <ol>
                    <li> Desni klik na DA > Add to Overview Diagram > mogu se izabrati željene tabele, dovoljno je ok </li>
                    <li> Čekirati da bi se prikazale kolone u tabeli. Ako se ne vidi ovakav prikaz klikuti na polju pored neke od tabela (da nije tabela selektovana).</li>
                    <li> Ovde se mogu videti dodatne informacije o tabelama, npr koje kolone ima i kog su tipa.</li>
                </ol>

                <h3> Zadaci</h3>
                <ol>
                    <li>
                        <p class="zadatak"> Izdvojiti podatke o svim predmetima.</p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.PREDMET 
                        </p>
                        <p>SELECT * - izdvjamo sve kolone <br>
                        FROM - odakle izdvajamo kolone
                        </p>
                    </li>

                    <li>
                        <p class="zadatak">  Izdvojiti podatke o svim studentima rođenim u Beogradu. </p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.DOSIJE <br>
                            WHERE mestorodjenja = 'Beograd'; <br> 
                        </p>
                        <p>
                            WHERE - uslovi koje treba da zadovolje dobijeni redovi <br>
                            Stringovi se navode pod jednostrukim navodnicima. <br>
                        </p>
                    </li>

                    <li>
                        <p class="zadatak">  Izdvojiti podatke o svim studentima koji nisu rođeni u Beogradu. </p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.DOSIJE <br>
                            WHERE MESTORODJENJA <> 'Beograd'; <br> 
                        </p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.DOSIJE <br>
                            WHERE NOT MESTORODJENJA = 'Beograd'; <br> 
                        </p>
                    </li>

                    <li>
                        <p class="zadatak">  Izdvojiti podatke o svim studentima koji su rođeni u Beogradu ili Zrenjaninu. </p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.DOSIJE <br>
                            WHERE MESTORODJENJA = 'Beograd' OR MESTORODJENJA = 'Zrenjanin'; <br> 
                        </p>
                    </li>

                    <li>
                        <p class="zadatak">  Izdvojiti podatke o svim studentkinjama rođenim u Beogradu. </p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.DOSIJE <br>
                            WHERE MESTORODJENJA = 'Beograd' AND POL = 'z'; <br> 
                        </p>
                    </li>

                    <li>
                        <p class="zadatak"> Izdvojiti nazive mesta u kojima su rođeni studenti. </p>
                        <p class="kod">
                            SELECT DISTINCT MESTORODJENJA <br>
                            FROM DA.DOSIJE 
                        </p>
                        <p>
                           DISTINCT stavljamo kada ne želimo duplirane redove, probati i bez DISTINCT.
                        </p>
                    </li>


                    <li>
                        <p class="zadatak">  Izdvojiti nazive predmeta koji imaju više od 6 ESPB.  </p>
                        <p class="kod">
                            SELECT NAZIV, ESPB <br>
                            FROM DA.PREDMET <br>
                            WHERE ESPB>6;
                        </p>
                    </li>

                    <li>
                        <p class="zadatak">   Izdvojiti oznake i nazive predmeta koji imaju između 8 i 15 ESPB.   </p>
                        <p class="kod">
                            SELECT NAZIV, ESPB
                            FROM DA.PREDMET
                            WHERE ESPB >= 8 AND ESPB <= 15;</p>
                        
                        <p class="kod">
                            SELECT NAZIV, ESPB <br>
                            FROM DA.PREDMET<br>
                            WHERE ESPB BETWEEN 8 AND 15;<br>
                        </p>

                    </li>

                    <li>
                        <p class="zadatak">  Izdvojiti podatke o ispitnim rokovima održanim u 2015/2016, 2016/2017. ili 2018/2019. školskoj godini.  </p>
                        <p class="kod">
                            SELECT *<br>
                            FROM DA.SKOLSKAGODINA<br>
                            WHERE SKGODINA=2015 OR SKGODINA=2016 OR SKGODINA=2018;<br>
                        </p>
                        <p class="kod">
                            SELECT *<br>
                            FROM DA.SKOLSKAGODINA<br>
                            WHERE SKGODINA IN (2015, 2016, 2018);<br>
                        </p>

                        <p>U bazi se čuva manje godina, npr za 2015/2016 u bazi će biti 2015.</p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti podatke o ispitnim rokovima koji nisu održani u 2015/2016, 2016/2017. ili 2018/2019. školskoj godini.  </p>
                        <p class="kod">
                            SELECT *<br>
                            FROM DA.SKOLSKAGODINA<br>
                            WHERE SKGODINA <> 2015 AND SKGODINA <> 2016 AND SKGODINA <> 2018;<br>
                        </p>
                        <p class="kod">
                            SELECT *<br>
                            FROM DA.SKOLSKAGODINA<br>
                            WHERE SKGODINA NOT IN (2015, 2016, 2018);<br>
                        </p>                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti podatke o studentima koji su fakultet upisali 2015. godine, pod pretpostavkom da godina iz indeksa odgovara godini upisa na fakultet.  </p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.DOSIJE<br>
                            WHERE INDEKS/10000 = 2015;
                        </p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti nazive predmeta i njihovu cenu za samofinansirajuće studente izraženu u dinarima. Jedan ESPB košta 2000 dinara.  </p>
                        <p class="kod">
                            SELECT NAZIV, ESPB, ESPB*2000 <br>
                            FROM DA.PREDMET;
                        </p>
                        <p class="kod">
                            SELECT NAZIV, ESPB, ESPB*2000 AS CENA <br>
                            FROM DA.PREDMET;
                        </p>
                        <p class="kod">
                            SELECT NAZIV, ESPB, ESPB*2000 AS "Cena poena" <br>
                            FROM DA.PREDMET;
                        </p>
                        <p>Ukoliko se ne da ime kolone prikazaće se redni broj kolone, ime se može zadati pod dvostrukim navodnicima ukoliko ima razmak. </p>
                    </li>

                    <li>
                        <p class="zadatak"> U prethodnom upitu izdvojiti samo redove sa enom bodova većom od 10 000. </p>
                        <p class="kod">
                            SELECT NAZIV, ESPB, ESPB*2000 AS "Cena poena" <br>
                            FROM DA.PREDMET <br>
                            WHERE ESPB*2000 > 10000;

                        </p>
                        <p> Ne može "WHERE CENA>10000" zbog redosleda izvršavanja. Prvo se izvrši FROM, zatim WHERE, a tek onda SELECT i tada saznajemo za novo ime kolone. </p>
                    </li>

                    <li>
                        <p class="zadatak">  Izdvojiti nazive predmeta i njihovu cenu za samofinansirajuće studente izraženu u dinarima. Jedan ESPB košta 2000 dinara. Između kolone naziv i kolone cena dodati kolonu u kojoj će za svaku vrstu biti ispisano Cena u dinarima.  </p>
                        <p class="kod">
                            SELECT NAZIV as "naziv predmeta", 'cena u dinarima' as "opis", ESPB*2000 AS CENA <br>
                            FROM DA.PREDMET
                        </p>
                        <p> String konstanta koja ide u svaku ćeliju kolone kao i string konstante se navode pod jednostrukim navodnicima, a naziv kolone pod dvostrukim.</p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti podatke o studentima koji su rođeni u mestu čiji naziv sadrži malo slovo o kao drugo slovo.</p>
                        <p class="kod">
                            SELECT INDEKS, MESTORODJENJA<br>
                            FROM DA.DOSIJE<br>
                            WHERE MESTORODJENJA LIKE '%o%';
                        </p>
                        <p>LIKE 'maska'. Maska može sadržati specijalne karaktere. <br>
                        <b>%</b> - označava da se može nalaziti 0 ili više karaktera.
                        </p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti podatke o studentima koji su rođeni u mestu čiji naziv sadrži malo slovo o.</p>
                        <p class="kod">
                            SELECT INDEKS, MESTORODJENJA<br>
                            FROM DA.DOSIJE<br>
                            WHERE MESTORODJENJA LIKE '_o%';
                        </p>
                        <p><b>_</b> - označava da se na toj poziciji nalazi tačno jedan karakter.
                        </p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti podatke o studentima koji su rođeni u mestu čiji naziv se završava sa malo e.</p>
                        <p class="kod">
                            SELECT INDEKS, MESTORODJENJA<br>
                            FROM DA.DOSIJE<br>
                            WHERE MESTORODJENJA LIKE '%e';
                        </p>
                        <p>U imenu grada se može nalaziti 0 ili više karaktera (%) pre slova e, a posle e ne ide ništa.</p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti podatke o studentima koji su rođeni u mestu čiji naziv počinje sa N a završava sa d.</p>
                        <p class="kod">
                            SELECT INDEKS, MESTORODJENJA<br>
                            FROM DA.DOSIJE<br>
                            WHERE MESTORODJENJA LIKE 'N%d';
                        </p>
                        <p>Ime grada počinje sa N, onda ide 0 ili više karaktera (%) pa d na kraju.</p>
                    </li>
                    <li>
                        <p class="zadatak"> Napraviti masku koja bi mogla da prepozna naredni string "%x_" </p>
                        <p class="kod">LIKE '/_x/%' ESCAPE '/' </p>
                        <p> Nakon ESCAPE se pod jednostrukim navodnicima navodi karakter koji će se koristiti za eskejpovanje (ukoliko u nisci želimo karakter koji je specijalan, % ili _).</p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.NIVOKVALIFIKACIJE <br>
                            WHERE '_xxx%' LIKE '%/_%/%' ESCAPE '/';
                        </p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti podatke o predmetima. Rezultat urediti po ESPB u rastućem poretku. </p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.PREDMET <br>
                            ORDER BY ESPB ASC;
                        </p>
                        <p>ORDER BY se koristi za sortiranje,umesto imena kolone se može navesti i redni broj kolone, npr ORDER BY 4 ASC. Kolone se broje od 1. ORDER BY se izvršava pre ili posle SELECT, što znači da možemo da korstimo imena kolona koje smo dali u SELECT ali i kolone koje nisu SELECT.</p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti podatke o predmetima. Rezultat urediti po ESPB u opadajućem poretku. </p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.PREDMET <br>
                            ORDER BY ESPB DESC;
                        </p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti podatke o predmetima. Rezultat urediti po ESPB u rastućem poretku i po nazivu u opadajućem poretku. </p>
                        <p class="kod">
                            SELECT * <br>
                            FROM DA.PREDMET <br>
                            ORDER BY ESPB ASC, NAZIV DESC;
                        </p>
                        <p>Prvo se sortira rastuće po bodovima, a ako više predmeta ima iste bodove onda se oni sortiraju po nazivu opadajuće.</p>
                    </li>
                    <li>
                        <p class="zadatak">  Izdvojiti ime, prezime i datum upisa na fakultet za studenate koji su fakultet upisali između 10. jula 2017. i 15.9.2017. godine. Rezultat urediti prema prezimenu studenta. </p>
                        <p class="kod">
                            SELECT IME, PREZIME, DATUPISA <br>
                            FROM DA.DOSIJE<br>
                            WHERE DATUPISA BETWEEN '10.07.2017' AND '15.09.2017'<br>
                            ORDER BY PREZIME; 
                        </p>
                        <p>Datumi se mogu predstaviti u formatu 'dd.mm.yyyy' kao stringovi. Obratiti pažnju da ne ide tačka posle godine. Datumi se mogu poorediti i sa <, >, <=, >= i =.</p>
                    </li>
                    <li>
                        <p class="zadatak"> Izdvojiti podatke o studijskim programima čija je predviđena dužina studiranja 3 ili više godina. Izdvojiti oznaku i naziv studijskog programa i broj godina predviđenih za studiranje studijskog programa. Rezultat urediti prema predviđenom broju godina za studiranje i nazivu studijskog programa.  </p>
                        <p class="kod">
                            SELECT OZNAKA, NAZIV, OBIMESPB/60 BROJ_GODINA<br>
                            FROM DA.STUDIJSKIPROGRAM<br>
                            WHERE OBIMESPB >= 3*60<br>
                            ORDER BY BROJ_GODINA, NAZIV;
                        </p>
                    </li>
                </ol>

                <div class="domaci">
                <h3>Zadaci za vežbanje</h3>
                <ol>
                    <li>Izdvojiti indeks, ime i prezime za svakog studenta koji je upisao fakultet.</li>
                    <li>    Izdvojiti sve različite vrednosti u koloni espb u tabeli predmet.</li>
                    <li>    Izdvojiti sva ženska imena studenata.</li>
                    <li>    Izdvojiti podatke o ispitima koji su održani u ispitnom roku sa oznakom jan1 i na kojima je student dobio 100 poena.</li>
                    <li>    Izdvojiti indekse studenata koji su na nekom ispitu dobili između 65 i 87 poena.</li>
                    <li>    Izdvojiti indeks i godinu upisa na fakultet za studente koji fakultet nisu upisali između 2013. i 2016. godine. Kolonu sa godinom upisa nazvati Godina upisa, a kolonu sa indeksom Student. Koristiti pretpostavkom da godina iz indeksa odgovara godini upisa na fakultet.</li>
                    <li>    Izdvojiti indeks i godinu upisa na fakultet za studente koji fakultet nisu upisali između 2013. i 2016. godine. i čije ime počinje na slovo M, treće slovo u imenu je r, a završava se na a. Rezultat urediti prema imenu studenta u rastućem poretku.</li>
                    <li>    Izdvojiti ime i prezime svakog studenta čije ime nije Marko, Veljko ili Ana. Rezultat urediti prema prezimenu u opadajućem poretku, a zatim prema imenu u rastućem poretku.</li>
                </ol>
                </div>  

         </div>

    </main>

</body>
</html>
