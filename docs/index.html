<!DOCTYPE html>

<html>
<head>
    <title>Milica Gnjatović</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="public/css/index.css">  
    <link rel="stylesheet" type="text/css" href="public/css/casovi.css">  
    <script type="text/javascript" src="public/js/index.js"></script>
    <script type="text/javascript" src="public/js/gen_cas.js"></script>
</head>

<body>


    <div id = "header">
        <h2>Milica Gnjatović</h2>

            <table id="menu">
                <tr>
                    <th> <a href="./index.html"> časovi </a> </th>                    
                    <th> <a href="./about_me.html"> o meni </a> </th>
                </tr>
            </table>

    </div>

    <a href="#left_menu" id="pocetak">POČETAK</a>

    <main>
        <div id="left_menu">
            <table>
                <tr><td><a href="#podesavanje_sistema">Podešavanje sistema</a></td></tr>
                <tr><td><a href="#cas1">ČAS 1</a></td></tr>
                <tr><td><a href="#cas2">ČAS 2</a></td></tr>
                <tr><td><a href="#cas3">ČAS 3</a></td></tr>
                <tr><td><a href="#cas4">ČAS 4</a></td></tr>
                <tr><td><a href="#cas5">ČAS 5</a></td></tr>
                <tr><td><a href="#cas6">ČAS 6</a></td></tr>
                <tr><td><a href="#cas7">ČAS 7</a></td></tr>
            </table>
        </div>

        <div id="right_menu">
            <p> Kontakt: milica_gnjatovic[at]matf.bg.ac.rs</p>
            
            <h3><a href="http://www.bazepodataka.matf.bg.ac.rs/RelacioneBazePodataka.html#0_tab">Zvanična stranica predmeta</a></h3>

            <h3>Snimak nadoknade</h3>
            <a href="https://matf.webex.com/matf/ldr.php?RCID=1dacaf5a68580844cb3d203555433195">Snimak</a> <br>
            Šifra: RBP5petak
            
            <p>Ukoliko nekog zanima funkcionalno programiranje može da isprati naredni <a href="https://forum.hklbgd.org/t/radionica-funkcionalnog-programiranja/258" target="_blank">link</a>.</p>

            <h3>Prisustvo</h3>
            <p>Prisustvo se NE BODUJE. Zamolila bih studente da unesu na kojim časovima su bili.
                Ovo će biti kao malo istraživanje da li studenti koji dolaze na vežbe postižu bolje razultat od onih koji ne dolaze.
                <a href="https://docs.google.com/spreadsheets/d/1vs1RbOP7habpQxw_e56Qwbuf2BysVfEH2rMzpADlM08/edit?usp=sharing">tabela</a>
            </p>
            
            <h1 id="podesavanje_sistema">Podešavanje sistema</h1>
            <p>
                Softver potreban za vežbe:
                <ul>
                    <li> IBM DB2 sistem za upravljanje bazama podataka </li>
                    <li> IBM Data Studio alat za rad sa bazama podataka</li>
                    <li> Studentska baza podataka <i>stud2020</i></li>
                </ul>

                Ili preuzeti virtuelnu mašinu. <a href="http://enastava.matf.bg.ac.rs/~mirjana/BazePodataka2020_nova.zip"> VM </a>

                <h3> Ukoliko preuzimate virtuelnu mašinu</h3>
                <p> Ako koristite stariju verziju VMware plejera i dobijate grešku pri pokretanju VM, potrebno je da otvorite .vmx datoteku i promenite vrednost za virtualHW.version na Vašu verziju plejera, npr. ako je 15 postavite
                    <br>
                    virtualHW.version = "15". 
                    <ul>
                        <li>korisnik: <b>student</b></li>
                        <li>šifra: <b>abcdef</b></li>
                    </ul>
                </p>

                <h3>Ukoliko želite sami da preuzmete programe</h3>
                <p>Potrebno je napraviti nalog na IBM-u sa studentskim mejlom. <br>
                <ul>
                    <li>
                        <a href="resources/rbp/db2_installation_instruction.pdf" target="_blank"> uputstvo za instairanje DB2 </a> <br>
                        <a href="resources/rbp/db2_installation_instruction2.pdf">dodatno uputsvo</a><br>
                        <a href="https://epwt-www.mybluemix.net/software/support/trial/cst/programwebsite.wss?siteId=1120&tableid=2932&p=null&h=null">Link za preuzimanje DB2</a>, nalog se pravi sa alas mejlom, ukoliko traži multifaktorsku autentifikaciju najlakše je da stavite još jedan mejl.
                    </li>
                    <li><a href="resources/rbp/data_studio_installation_instruction.pdf" target="_blank"> uputstvo za instairanje data studija </a></li>
                    <li><a href="http://www.matf.bg.ac.rs/~mirjana/stud2020.zip" target="_blank"> skripta za uvoženje baze </a>
                        <br>
                        Uputstvo: unzipovati folder i pozicionirati se u njega. U terminalu pokrenuti <i>./create.sh</i>. <br>
                        Napomena: može biti potrebno promeniti mod fajla komandom:
                        <p class="kod">chmod +x create.sh</p> Ovu liniju je potrebno izvršiti u baznom folderu i dva podfoldera. Može da potraje par minuta.
                    </li>
                </ul>
                </p>

                <h3> Struktura baze podataka </h3>
                <ul>
                    <li><b>DA</b> - podaci zapisani ASCII kodnom shemom</li>
                    <li><b>DB</b> - podaci zapisani UTF-8 kodnom shemom</li>
                </ul>

                <img src="resources/rbp/dijagram_stud2020.png" alt="stud2020" style="width: 100%;">

                <h1 id="cas1">ČAS 1</h1>

                <h3>Komande u db2:</h3>
                <div class="kod">
                    <table class="basic_underline">
                        <tr>
                            <td>db2start</td>
                            <td>pokretanje</td>
                        </tr>
                        <tr>
                            <td>db2stop</td>
                            <td>zaustavljanje</td>
                        </tr>
                        <tr>
                            <td>db2 list db directory </td>
                            <td>lista svih baza u sistemu</td>
                        </tr>
                        <tr>
                            <td>db2</td>
                            <td>pokretanje interkativnog okruženja</td>
                        </tr>
                        <tr>
                            <td>db2 connect to IME_BAZE</td>
                            <td>povezivanje na bazu podataka</td>
                        </tr>
                        <tr>
                            <td>db2 connect to IME_BAZE user IME_KORISNIKA using SIFRA</td>
                            <td>povezivanje na bazu podataka kao određeni korisnik</td>
                        </tr>
                        <tr>
                            <td>db2 connect reset</td>
                            <td>diskonektovanje</td>
                        </tr>
                        <tr>
                            <td>db2 list tables</td>
                            <td>prikaz tabela u bazi za podrazumevanu shemu</td>
                        </tr>
                        <tr>
                            <td>db2 values current schema</td>
                            <td>prikaz trenutne sheme</td>
                        </tr>
                        <tr>
                            <td>db2 list tables for schema IME_SHEME</td>
                            <td>prikaz tabela u bazi za određenu shemu</td>
                        </tr>
                        <tr>
                            <td>db2 describe table IME_TABELE/IME_SHEME.IME_TABELE </td>
                            <td>informacije o tabeli</td>
                        </tr>
                        <tr>
                            <td>db2 "UPIT" </td>
                            <td>dohvatanje podataka iz baze</td>
                        </tr>
                        <tr>
                            <td>db2 -f PUTANJA_DO_FAJLA -v </td>
                            <td>izvršavanje upita iz fajla, -v naglašava da se svaki upit završava sa <b>;</b>. Može se dodati -v da se prikaže upit koji je izvršen. U jednom fajlu može biti više upita.</td>
                        </tr>
                    </table>
                </div>

                <p><b>Baza podataka</b> - kolekcija podataka organizovana na određen način; različiti tipovi, objektne, nerelacione, relacione...</p>
                <p><b>Sistem za upravljanje bazom podataka (SUBP) </b>- program koji omogućava pristup i rad sa podacima iz baze, to je ibm db2.</p>
                <p><b>Relacione baze podataka (RBP)</b> - podaci se predstavljaju u okviru relacija/tabela</p>
                <p><b>Entitet</b> - neki objekat, prikazuje se tabelom; student, predmet, ispit...</p>
                <p><b>Atribut</b> - opisuje objekat, kolone tabele; indeks, ime, prezime...</p>
                <p><b>Student</b> (<u>indeks</u>, ime, prezime, datum_rođenja, mesto_rođenja)</p>
                <p><b>Red/ntorka</b> - podaci o jednom entitetu/studentu/ispitu...</p>
                <p><b>Relaciona baza</b> - skup relacija/tabela</p>
                <p><b>Relaciona shema</b> - opis strukture relacija</p>
                <p><b>SQL</b> - sredstvo za upravljanje relacionom bazom podatka, upitni jezik</p>
                <p><b>Primarni ključ</b> - atribut ili skup atributa koji jedinstveno opisuju entitet</p>
                <p><b>Strani ključ</b> - atribut ili skup atributa kojim se pravi veza ka drugoj relaciji</p>
                <p><b>Shema</b> - grupisane tabele u pogled koji čini celinu, npr. shema za profesore i shema za studente</p>

                <p>
                    <h3>Redosled izvršavanja:</h3>
                    3 SELECT <i>- kolone koje će se prikazati, * da se prikažu sve kolone </i> <br> 
                    1 FROM <i>- odakle izvlačimo podatke, koja tabela </i> <br>
                    2 WHERE <i>- uslovi koje rezultati treba da ispunjavaju</i><br>
                </p>

                <h3>Rad u Data studiju</h3>
                Pre početka je potrebno pokrenuti db2 iz terminala komandom <p class="kod">db2start</p>
                <img src="resources/rbp/data_studio1.png" alt="data studio" style="width:100%;">
                <ol>
                    <li>Open perspective > Data </li>
                    <li>Desni klik > connect > uneti korisničko ime i šifru > test connection (treba da je okej) > connect  
                        <br>
                        Ukoliko nema ponuđeno stud2020: desni klik na Database Connections > new > DB2 for Linux, Unix and Windows > host: stud2020, username an password, identično prethodom koraku. 
                    </li>
                    <li> Pravljenje novog sql skripta</li>
                    <li> Click here to connect to database > izabrati stud2020 > finish </li>
                    <li> Dugme za izvršavanje unetog upita.</li>
                    <li> Ovde se nalazi rezultat upita ili eventualna poruka o grešci.</li>
                </ol>

                <img src="resources/rbp/data_studio2.png" alt="data studio" style="width:100%;">
                <ol>
                    <li> Desni klik na DA > Add to Overview Diagram > mogu se izabrati željene tabele, dovoljno je ok </li>
                    <li> Čekirati da bi se prikazale kolone u tabeli. Ako se ne vidi ovakav prikaz klikuti na polju pored neke od tabela (da nije tabela selektovana).</li>
                    <li> Ovde se mogu videti dodatne informacije o tabelama, npr koje kolone ima i kog su tipa.</li>
                </ol>

                <div id="cas1zadaci"></div>
                <script>
                    loadClassFromJSON("cas1zadaci", "resources/rbp/cas1.json")
                </script>


<!-- CAS2-->
            <h1 id="cas2">ČAS 2</h1>
            <h3>Vrste spajanja</h3>

            <img src="resources/rbp/spajanje.png" width="100" style="width: 100%;">

        <div id="cas2zadaci"></div>
        <script>
            loadClassFromJSON("cas2zadaci", "resources/rbp/cas2.json")
        </script>
<!-- CAS2 KRAJ-->

<!-- CAS3-->
        <h1 id="cas3">ČAS 3</h1>
        <h3>Podupiti</h3>
        <dl>
            <dt>X [NOT] IN (SELECT Y FROM ... WHERE ...)</dt>
            <dd> Gledamo da li je X u nizu Y-ona koji dobijamo iz podupita. Važno je da X i Y imaju isti broj atributa. Na primer možemo imati WHERE (OZNAKAROKA, SKGODINA) IN (SELECT OZNAKA, GODINA FROM ...).  </dd>
            
            <dt>[NOT] EXISTS (SELECT ... FROM ...)</dt>
            <dd>Uslov je zadovoljen ako podupit vraća bar jedan red.</dd>

            <dt>X < ALL (SELECT ... FROM ...)</dt>
            <dd>Uslov je zadovoljen ako je X manje od svake vrednosti koju vraća podupit. Mogu se koristi i ostali operatori.</dd>

            <dt>X < SOME (SELECT ... FROM ...)</dt>
            <dd>Uslov je zadovoljen ako je X manje od neke vrednosti koju vraća podupit. Mogu se koristi i ostali operatori.</dd>

            <dt>X = ANY (SELECT ... FROM ...)</dt>
            <dd>Uslov je zadovoljen ako je X jednako nekoj vrednosti koju vraća podupit. Mogu se koristi i ostali operatori.</dd>

        </dl>

        <p>
        <b>SVAKI <=> NE POSTOJI NEKI KOJI NIJE</b>
        <br>
        Tražimo studenta koji je položio svaki ispit koji je polagao. <=> Tražimo studenta za kog NE POSTOJI ispit koji NIJE POLOŽIO.
        </p>

        <div id="cas3zadaci"></div>
        <script>
        loadClassFromJSON("cas3zadaci", "resources/rbp/cas3.json")
        </script>

        <h4>Napomene posle časa:</h4>
        <ul>
            <li>Drugom zadatku je dodata napomena uz još jedno rešenje.</li>
            <li>
                <p>U narednom primeru ćemo imati grešku jer se u order by ne zna da li želimo da uredimo po indeksu iz tabele dosije ili po indeksu iz tabele ispit. Možemo to rešiti tako što ćemo staviti order by D.INDEKS ili order by I.INDEKS.</p>
                <p class="kod">
                    SELECT *<br>FROM DA.ISPIT I JOIN DA.DOSIJE D<br><tab></tab>ON I.INDEKS = D.INDEKS<br>ORDER BY INDEKS;
                </p>
                <p>Međutim, u narednom primeru nemamo grešku jer se u select nalazi jedan indeks, pa se po njemu uređuje.</p>
                <p class="kod">SELECT D.INDEKS, IME<br>FROM DA.ISPIT I JOIN DA.DOSIJE D<br><tab></tab>ON I.INDEKS = D.INDEKS<br>ORDER BY INDEKS;</p>
            </li>
        </ul>
<!-- CAS3 KRAJ-->

<!-- CAS4 -->
<h1 id="cas4">ČAS 4</h1>
<h3>Skupovni operatori</h3>
<dl>
    <dt>UNION</dt>
    <dd>
        <i>upit1</i> UNION <i>upit2</i> nam daje sve redove iz upita1 i upita2 bez duplikata. Važno je da i prvi i drugi upit vraćaju isti broj kolona i da su te kolone istog tipa. Na primer u redu je ako prvi upit vraća ime (string), ocenu (broj), a drugi prezime (string), indkeks (broj). Nije u redu ako prvi vraca ocenu (broj), a drugi ime (string).
    </dd>

    <dt>UNION ALL</dt>
    <dd>Identično kao UNION samo što ovde možemo imati duplikate. Efikasnije je od UNION jer ne proverava duplikate. UNION je kao da smo na UNION ALL primenili DISITNCT.</dd>

    <dt>INTERSECT</dt>
    <dd>
        <i>upit1</i> INTERSECT <i>upit2</i> nam daje sve redove iz upita 1 koji postoje i u upitu 2 bez duplikata. Važno je da i prvi i drugi upit vraćaju isti broj kolona i da su te kolone istog tipa.
    </dd>

    <dt>INTERSECT ALL</dt>
    <dd>Identično kao INTERSECT samo što ovde možemo imati duplikate. Efikasnije je od INTERSECT jer ne proverava duplikate. INTERSECT je kao da smo na INTERSECT ALL primenili DISITNCT.</dd>

    <dt>EXCEPT / MINUS</dt>
    <dd> <i>upit1</i> EXCEPT <i>upit2</i> nam daje sve redove iz upita 1 koji ne postoje u upitu 2 bez duplikata. Važno je da i prvi i drugi upit vraćaju isti broj kolona i da su te kolone istog tipa. EXCEPT i MINUS su sinonimi i potpuno je svejedno da li koristimo jedno ili drugo.
    </dd>

    <dt>EXCEPT ALL</dt>
    <dd> <i>upit1</i> EXCEPT ALL <i>upit2</i> nam daje sve redove iz upita 1 koji ne postoje u upitu 2 uzimajući u obzir duplikate. Ako prvi upit vraća X za svaku ocenu 10, a drugi upit vraća X za svaku ocenu 6, i ako student ima 5 desetki i 3 šestice u rezultatu će biti 2 reda sa X. Ako bi u ovom primeru koristili samo EXCEPT dobili bi praznu tabelu kao rezultat.</dd>
</dl>

<h3>Funkcije za rad sa datumom i vremenom</h3>
<dl>
    <dt>CURRENT TIME, CURRENT DATE</dt>
    <dd>specijalni registri koji sadrže vrednost trenutnog vremena, odnosno datuma</dd>

    <dt>DATE(expression)</dt>
    <dd>expression može biti string u formatu "dd.mm.yyyy"</dd>
    
    <dt>YEAR(date)</dt>
    
    <dt>MONTH(date)</dt>
    <dd>redni broj meseca u godini</dd>
    
    <dt>WEEK(date)</dt>
    <dd>redni broj nedelje u godini</dd>
    
    <dt>DAY(date) / DAYOFMONTH(date)</dt>
    <dd>redni broj dana u mesecu</dd>

    <dt>DAYOFYEAR(date)</dt>
    <dd>redni broj dana u godini</dd>

    <dt>DAYOFWEEK(date)</dt>
    <dd>redni broj dana u nedelji, 1 je subota, dok je 7 nedelja</dd>

    <dt>DAYNAME(date)</dt>
    <dd>naziv dana u nedelji; ukoliko želimo da zadamo jezik možemo ga dodati kao drugi argument, za srpski bi kod bio 'sr_latn_sr' ili 'sr_cirilc_sr'</dd>

    <dt>MONTHNAME(date)</dt>
    <dd>naziv meseca; ukoliko želimo da zadamo jezik možemo ga dodati kao drugi argument, za srpski bi kod bio 'sr_latn_sr' ili 'sr_cirilc_sr'</dd>

    <dt>DAYS(date)</dt>
    <dd>brojevna reprezentacija datuma</dd>
    
    <dt>TIME(expression)</dt>
    <dd>vraća vreme, expression može biti u formatu hh:mm</dd>

    <dt>TIMESTAMP(date, time)</dt>
    <dd>vraća format koji sadrži datum i vreme</dd>

    <dt>HOUR(time), MINUTE(time), SECOND(time)</dt>
    <dd>vraća broj sati, minuta i sekundi za vreme</dd>

    <dt>YEARS_BETWEEN(date1, date2), MONTHS_BETWEEN(date1, date2), DAYS_BETWEEN(date1, date2)</dt>
    <dd>Koliko je godina, meseci, dana prošlo između dva datuma. Ako gledamo mesece na primer a prošlo je 2 godine i 3 meseca reulatat će biti 27 meseci, a ne 3.</dd>

    <dt>SECOND[S], MINUTE[S], HOUR[S], DAY[S], MONTH[S], YEAR[S]</dt>
    <dd>
        ključne reči koje nam omogućuju da dodajemo na neki datum ili na neko vreme <br>
        Na primer: 
            <ul>
                <li>CURRENT TIME + 5 MINUTES - 5 SECONDS</li>
                <li>DATE('1.1.2020') + 5 YEARS (u ovom slučaju nije dovoljno samo niska za datum, već je potrebno i DATE da se naglasi da je datum jer db2 ne može sam da zaključi)</li>
            </ul>
    </dd>
</dl>

<h3>Funkcije za rad sa karakterima</h3>
<dl>
    <dt>SUBSTR(str, start, len)</dt>
    <dd>Vraća podnisku niske str, koja počinje od start a dužine je len. Indeksiranje kreće od 1. Ukoliko se ne navede len izdvaja se podniska od pozicije start do kraja niske. </dd>

    <dt>CONCAT(x, y), x || y</dt>
    <dd>Spaja niske x i y. CONCAT prima tačno dva argumenta, dok ako koristimo operator || možemo ulančati više stringova (a || b || c ...).</dd>

    <dt>SPACE(x)</dt>
    <dd>Vraća x praznih mesta.</dd>

    <dt>POSSTR(x, y)</dt>
    <dd>Vraća indeks na kom počinje niska y u niski x. Ukoliko se y ne nalazi u x vraća 0.</dd>

    <dt>REPEAT(str, x)</dt>
    <dd>Ponavlja nisku str x puta.</dd>

    <dt>REPLACE(str, x, y)</dt>
    <dd>Zamenjuje sva pojavljivanja niske x u str sa y.</dd>

    <dt>LTRIM(str), TRIM(str), RTRIM(str)</dt>
    <dd>Uklanja beline levo, desno ili sa obe strane.</dd>

    <dt>LENGTH(arg)</dt>
    <dd>Vraća dužinu argumenta, koji može biti string ili broj.</dd>
</dl>

<h3>Funkcije za nedefinisane vrednosti</h3>
<dl>
    <dt>COALESCE(x, y, z...)</dt>
    <dd>Vraća prvi argument iz liste čija vrednost nije NULL. Ako su svi agumenti NULL onda se NULL i vraća.</dd>

    <dt>NULLIF(x, y)</dt>
    <dd>Vraća NULL ako su x i y jednaki. Ukoliko su argumenti različiti onda vraća prvi argumenti.</dd>
</dl>

<h3>Funkcije za konverziju</h3>
<dl>
    <dt>DECIMAL(x, y, z), DEC(x, y, z)</dt>
    <dd>Vraća decimalnu reprezentaciju x, pri čemu y predstavlja ukupan broj cifara, a z broj mesta iza decimalnog zareza. X može biti broj ili string.</dd>

    <dt>DOUBLE(x)</dt>
    <dd>Vraća broj veće preciznosti. X može biti string ili broj.</dd>

    <dt>DECIMAL(expression)</dt>
    <dd>Vraća string reprezentaciju broja.</dd>

    <dt>CHAR(expression)</dt>
    <dd>Skoro sve tipove pretvara u string.</dd>

    <dt>CHAR(datetime, format)</dt>
    <dd>Datum i vreme prikazuje u datom formatu. Dostupni formati su ISO, USA, EUR, JIS, LOCAL.</dd>
</dl>

<h3>Numeričke funkcije</h3>
<dl>
    <dt>MOD(x, y)</dt>
    <dt>ABS(x)</dt>
    <dt>SIGN(x)</dt>
    <dd>Vraća 1 za pozitivne, -1 za negativne, 0 za 0.</dd>
    <dt>SQRT(x)</dt>
    <dd>Vraća koren broja.</dd>
    <dt>RAND(seed)</dt>
    <dd>Vraća random broj. Seed argument nije obavezan, za isti seed se dobija isti 'random' broj.</dd>
    <dt>CEIL, FLOOR</dt>
    <dd>Zaokružuje broj na veći, odnosno manji.</dd>
    <dt>SIN, COS, TAN, COTAN, ASIN, ACOS, ATAN, EXP...</dt>
    <dt>ROUND(num, broj_decimala)</dt>
</dl>

<p>Na narednom linku možete naći još sklarnih funkcija i informacije o njima: <a href="https://www.ibm.com/docs/en/db2/11.5?topic=functions-scalar">dokumentacija</a>.</p>
<div id="cas4zadaci"></div>
    <script>
    loadClassFromJSON("cas4zadaci", "resources/rbp/cas4.json")
    </script>
<!-- CAS4 KRAJ-->

<!-- CAS5-->

    <h1 id="cas5">ČAS 5</h1>

    <img src="/resources/rbp/groupby.png" alt="group by" style="width:100%;">

    <div id="cas5zadaci"></div>
    <script>
    loadClassFromJSON("cas5zadaci", "resources/rbp/cas5.json")
    </script>
<!-- CAS5 KRAJ-->

<!-- CAS6-->

<h1 id="cas6">ČAS 6</h1>
<h3>WITH klauza</h3>
<p>With klauzom možemo definisati privremenu tabelu koju koristimo u upitu.</p>
<p class="kod">
    <b>WITH</b> POMOCNA_TABELA <b>AS</b> (<br>
        <tab></tab> SELECT ... FROM ... <br>
    )<br>
    SELECT ... <br> 
    FROM POMOCNA_TABELA <br>
    ...
</p>

<p class="kod">
    <b>WITH</b> POMOCNA_TABELA(kolona1, kolona2 ...) <b>AS</b> (<br>
        <tab></tab> SELECT ... FROM ... <br>
    )<br>
    SELECT ... <br> 
    FROM POMOCNA_TABELA <br>
    ...
</p>

<p>Pomoćnu tabelu možemo koristiti kao i bilo koju drugu tabelu iz baze, možemo je spajati sa drugim tabelama, grupisati... <br>
    Možemo definisati više pomoćnih tabela:
    
    <p class="kod">
        <b>WITH</b> POMOCNA_TABELA <b>AS</b> (...), <br>
        <tab></tab> DRUGA_POMOCNA_TABELA <b>AS</b> (...), <br>
        <tab></tab> ... <br>
        SELECT ... <br> 
        FROM ... <br>
        WHERE ...
    </p>

    Važno je da pri definisanju pomoćne tabele svakoj koloni damo ime.</p>
<div id="cas6zadaci"></div>
<script>
loadClassFromJSON("cas6zadaci", "resources/rbp/cas6.json", "none")
</script>
<!-- CAS6 KRAJ-->


<!-- CAS7-->

<h1 id="cas7">ČAS 7</h1>
<h2>Kreiranje tabela</h2>
<p class="kod">
    <b>CREATE TABLE</b> NAZIV_TABELE (<br>
    <tab></tab>NAZIV_KOLONE1 TIP_KOLONE1 <br>
    <tab></tab>NAZIV_KOLONE2 TIP_KOLONE2 <b>NOT NULL</b> <br>
    <tab></tab>NAZIV_KOLONE3 TIP_KOLONE2 <b>DEFAULT ... </b> <br>
    <tab></tab>...<br>
    <tab></tab>NAZIV_KOLONEN TIP_KOLONEN <br>
    <tab></tab><b>PRIMARY KEY</b> (KOLONA_KLJUC1, KOLONA_KLJUC2...) <br>
    <tab></tab><b>FOREIGN KEY</b> FK_NAZIV_KLJUCA (NAZIV_KOLONE_OVE_TABELE) <b>REFERENCES</b> NAZIV_TABELE_KOJU_REFERISE <br>
    <tab></tab><b>CONSTRAINT</b> NAZIV_OGGRANICENJA <b>CHECK</b> ( ... )<br>
    ) 
</p>

<p>
    Primarni ključ može činiti više kolona. Važno je da svaka kolona bude definisana sa NOT NULL. Primarni ključ se još može definisati tako što u nazivu kolone dodamo primary key, npr ID INTEGER NOT NULL PRIMARY KEY.<br>
    Umesto komande CREATE TABLE ... , možemo korisiti CREATE TABLE IF NOT EXISTS ... kojom kreiramo tabelu samo ukoliko ona već ne postoji. <br>
    Primarni ključ može automatski da se generiše i onda ne mora da se unosi pri ubacivanju podataka, npr 
    <p class="kod">NAZIV_KOLONE INTEGER NOT NULL GENERATED ALWAYS AS IDENTITY (MINVALUE 1)</p>
    Ukoliko je primarni ključ definisan na ovaj način njegova vrednost ne može da se unosi.
</p>
Neki od dozvoljenih tipova za kolone su:
<ul>
    <li>SMALLINT, INTEGER/INT, BIGINT, DECIMAL/DEC, FLOAT(BROJ DECIMALA), REAL, DOBULE</li>
    <li>CHARACTER/CHAR</li>
    <li>CHARACTER/CHAR[max broj karaktera u niski]</li>
    <li>VARCHAR[max broj karaktera u niski]</li>
    <li>DATE, TIME, TIMESTAMP</li>
    <li>BOOLEAN</li>
</ul>

<p>Lista tabela u bazi se može videti sa nekom od narednih komandi iz terminala:</p>
<ul>
    <li class="kod">db2 lista tables</li>
    <li class="kod">db2 lista tables for naziv_sheme</li>
</ul>
<p>Treba obratiti pažnju gde je kreirana baza, tj. da li u nekoj shemi.</p>

<h2>Kopiranje tabele </h2>
<p class="kod">
    <b>CREATE TABLE</b> NAZIV_KOPIJE_SA_PODACIMA <b>AS</b> (<br>
	<tab></tab>SELECT *<br>
	<tab></tab>FROM ORIGINALNA_TABELA<br>
) <b>WITH DATA</b>;
</p>
<p class="kod">
    <b>CREATE TABLE</b> NAZIV_KOPIJE_BEZ_PODATAKA <b>AS</b> (<br>
	<tab></tab>SELECT *<br>
	<tab></tab>FROM ORIGINALNA_TABELA<br>
) <b>WITH NO DATA</b>;

<p>Ovo je korisno ako želite da vežbate izmenu i brisanje redova, a da pri tom ne menjate originalnu tabelu.</p>

<h2>Promena strukture tabele</h2>
<p class="kod"> <b>ALTER TABLE</b> NAZIV_TABELE ... </p>
Moguće su naredne izmene:
<ul>
    <li class="kod"> DROP NAZIV_KOLONE </li>
    <li class="kod"> ADD CONSTRAINT NAZIV_OGRANICENJA CHECK (...) </li>
    <li class="kod"> ALTER COLUMN NAZIV_KOLONE SET DEFAULT .... </li>
</ul>

Nakon promene strukture tabele u nekim slučajevima je neophodno reorganizovati tabelu komandom iz terminala:
<p class="kod">
    db2 connect to naziv_baze <br>
    db2 reorg table naziv_tabele
</p>

<h2>Brisanje tabele iz baze</h2>
<p class="kod"><b>DROP TABLE</b> NAZIV_TABELE;</p>
<p class="kod"><b>DROP TABLE IF EXISTS</b> NAZIV_TABELE;</p>
Ukoliko pokušamo da obrišemo tabelu koja ne postoji prva verzija će izbaciti grešku, dok druga neće.

<h2>Dodavanje redova u bazu</h2>
<p class="kod">
    <b>INSERT INTO </b> NAZIV_TABELE(KOL1, KOL2, ... , KOLN) <b>VALUES</b> <br>
    <tab></tab> (VREDNOST_KOL1, VREDNOST_KOL2, ... , VREDNOST_KOLN), <br>
    <tab></tab> (VREDNOST_KOL1, VREDNOST_KOL2, ... , VREDNOST_KOLN), <br>
    <tab></tab>...
</p>
<p class="kod">
    <b>INSERT INTO </b> NAZIV_TABELE(KOL1, KOL2, ... , KOLN)<br>
    SELECT ... <br>
    FROM ...
</p>
<p>Ukoliko se ubacuje vrednost za svaku kolonu redom onda nije neophodno navoditi nazive kolona. Vrednosti koje se ne unesu će biti NULL.</p>

<h2>Izmena podataka u bazi</h2>
<p class="kod">
    <b>UPDATE</b> NAZIV_TABELE <br>
    <b>SET</b> KOL1 = VREDNOST,<br>
    <tab></tab>KOL2 = CASE WHEN ... THEN ... ... END<br>
    <tab></tab>KOL3 = (SELECT ... FROM ... WHERE)<br>
    <tab></tab>KOL4 = ... <br>
    WHERE ... 
</p>
<p class="kod">
    <b>UPDATE</b> NAZIV_TABELE <br>
    <b>SET</b> (KOL1, KOL2 ...) = (VREDNOST1, VREDNOST2, ...) <br>
    WHERE ... 
</p>

Ako ne navedemo WHERE izmeniće se svi redovi.

<h2>Brisanje redova iz baze</h2>
<p class="kod">
    <b>DELETE FROM</b> NAZIV_TABELE <br>
    WHERE ...
</p>
Ukoliko ne navedemo where biće obrisani svi redovi iz navedene tabele.

<div id="cas7zadaci"></div>
<script>
loadClassFromJSON("cas7zadaci", "resources/rbp/cas7.json", "none")
</script>
<!-- CAS7 KRAJ-->


<!-- levi div-->
         </div>

    </main>

</body>
</html>
